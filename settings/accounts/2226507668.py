#!/usr/bin/env python3
# -*- coding: utf-8 -*-

"""
用于解析和翻译 .reg 文件中的十六进制数据
"""

# 十六进制数据（单行格式，便于处理）
hex_data = "32,38,54,43,4f,4e,67,6a,43,68,66,33,65,73,36,6c,30,2b,30,66,6a,51,6b,49,6b,4f,66,77,47,4a,4d,75,78,39,6e,58,74,51,5a,53,49,64,71,32,77,4f,72,36,49,68,67,47,76,59,4b,4c,49,6f,64,48,33,6f,56,76,68,31,6e,46,77,4a,72,72,4d,71,6c,76,69,4a,4c,63,45,7a,5a,6c,36,7a,51,78,68,30,59,4e,2f,6e,2b,35,75,68,39,6c,34,7a,75,46,6a,77,52,32,4e,65,35,46,59,33,4a,33,77,76,4f,57,7a,31,64,76,4c,31,2b,62,45,4f,56,41,6a,4f,53,32,6d,37,41,47,54,45,71,65,46,52,73,49,59,2b,31,77,38,68,6e,6b,6b,34,74,52,68,74,7a,53,33,64,71,36,79,45,64,70,38,33,4a,4b,52,52,73,53,50,77,77,57,59,47,5a,41,4c,51,6e,62,64,45,51,31,79,6c,6e,57,36,75,34,64,4e,37,79,44,38,78,45,67,70,62,58,4f,32,31,37,33,5a,6f,69,75,34,30,37,76,59,44,63,4c,59,4f,34,76,6d,55,67,45,34,46,56,44,4c,44,53,58,76,54,39,79,31,56,61,59,46,65,75,5a,54,68,71,47,6d,44,69,4e,73,50,54,79,49,72,47,6b,41,64,79,72,4a,67,6d,4f,32,70,37,2f,33,31,75,38,6f,77,71,49,30,6d,36,42,58,56,4a,66,6f,55,4f,38,6b,62,73,43,70,6c,65,45,50,41,4f,6a,5a,2f,31,6c,50,5a,55,68,61,4d,6a,35,63,63,6d,4a,36,56,58,6b,66,72,4f,68,56,2f,4f,59,36,54,50,45,68,54,7a,47,45,6e,63,44,79,51,6f,39,4d,6d,41,41,37,33,45,59,62,61,52,4c,49,74,6a,6b,48,79,37,2f,6a,4d,37,4f,75,71,78,48,65,7a,52,49,79,65,41,75,75,6a,6f,61,51,56,32,64,39,4c,68,4b,35,70,36,58,53,39,72,55,38,68,71,50,6a,5a,4f,53,74,77,4d,72,39,7a,59,6a,32,69,6b,55,73,58,65,4c,77,61,6e,63,45,52,62,50,6d,46,62,53,4b,71,56,4a,79,55,6a,4e,54,30,55,4d,2b,36,71,54,70,59,4c,2b,6e,66,31,4f,78,6b,65,4c,44,54,65,74,34,50,69,78,55,5a,6a,36,52,5a,34,57,66,70,41,49,61,79,34,46,4a,66,68,55,6f,35,50,72,6e,30,73,75,61,35,73,51,62,49,47,50,50,38,67,6b,4a,4f,38,74,53,49,65,53,72,48,4b,79,50,65,68,70,67,44,2f,78,41,39,6f,53,4e,59,62,41,76,6b,56,44,57,72,55,46,76,4d,58,49,67,44,35,5a,77,42,57,4c,36,6c,4e,2f,6d,66,79,45,4b,36,6c,34,4d,55,49,67,53,4b,2f,51,39,66,30,72,6f,52,46,50,2b,34,37,59,38,74,41,79,47,73,68,38,68,4d,55,44,45,76,72,55,4d,79,72,73,62,4b,64,64,66,32,47,49,6a,34,30,75,63,67,64,62,68,6a,45,58,70,56,46,69,6e,78,43,46,32,2b,33,6f,64,37,75,56,62,6c,4b,4e,67,64,4e,2b,67,6c,70,6a,59,43,39,51,4f,59,74,48,59,45,69,32,67,67,4a,66,69,51,4c,38,71,33,2f,44,65,72,70,54,44,67,48,6a,68,6c,51,2b,4d,6f,55,32,6f,48,6e,42,4a,4b,56,58,36,52,57,4d,4b,31,41,69,62,38,4b,64,44,56,75,32,77,2b,44,73,36,53,67,39,32,58,46,70,6d,30,76,61,47,4c,61,74,62,71,68,79,62,77,46,77,2f,31,36,75,31,47,42,48,59,65,77,34,64,35,55,79,41,75,44,59,37,4d,62,33,36,70,31,53,38,76,4a,39,33,39,69,74,79,6a,2b,6c,7a,4d,62,4a,56,49,48,4d,54,65,65,4b,34,62,2f,31,50,77,41,34,52,46,70,35,34,63,58,6d,4a,6d,4b,37,46,7a,32,64,32,33,30,67,33,54,47,34,67,4d,6e,71,45,67,75,4c,6a,72,2b,54,2b,41,53,2f,38,58,45,4a,62,39,50,67,65,62,33,4f,6d,5a,34,38,41,59,59,55,2b,50,57,54,50,66,37,78,64,4c,6a,57,38,4b,38,66,41,77,45,67,47,58,4b,6f,65,6b,53,4e,37,51,6f,53,46,4d,52,65,4a,47,57,41,4c,64,4e,6b,62,39,37,59,61,68,68,34,6b,43,68,67,42,75,6b,6e,67,67,43,49,56,58,4b,69,6d,57,4a,66,42,30,66,45,62,31,61,41,72,32,49,70,55,38,7a,58,31,30,33,49,52,7a,63,7a,55,6e,42,71,49,59,79,7a,68,5a,48,51,49,31,2b,30,6c,4c,77,6c,78,4e,65,46,37,30,4e,63,36,34,36,6c,58,47,6a,35,67,64,48,34,5a,6d,66,2f,35,34,63,32,61,4c,53,39,41,4b,33,6d,41,41,6f,75,6d,2f,51,33,77,51,73,74,71,31,48,4e,42,5a,4f,4a,53,4c,6e,66,70,70,50,78,46,4c,77,2b,62,7a,68,64,6d,75,6a,32,36,62,31,75,79,37,4e,31,57,6e,79,53,43,78,2f,63,4d,49,74,2f,53,72,52,51,46,31,56,4b,6d,6e,47,5a,4b,4e,6b,67,55,68,2f,50,50,32,31,37,68,6c,69,54,31,58,54,6d,69,67,4c,6d,48,67,58,35,44,73,66,45,44,35,4c,31,76,75,49,75,5a,66,6e,58,76,47,37,79,37,53,38,35,51,57,50,77,41,59,74,75,6f,2f,71,4c,7a,49,4c,4f,53,7a,33,61,36,56,6f,77,61,65,34,43,69,68,4a,72,36,30,33,45,6b,65,30,6a,47,51,41,62,4a,48,51,4b,66,61,31,73,53,51,4b,46,48,7a,51,5a,5a,44,63,33,75,59,34,2b,63,30,75,38,4b,43,75,59,4c,32,70,58,4f,2b,2b,36,64,2b,66,72,46,55,34,35,34,70,6d,6b,62,36,31,62,4f,5a,51,57,68,2b,33,4b,36,76,31,64,51,65,32,4f,48,43,43,35,45,6c,31,37,55,47,64,6b,65,6b,78,62,73,46,57,63,6e,61,76,76,53,56,53,49,00"

# 处理十六进制数据
# 1. 去除逗号
hex_string = hex_data.replace(',', '')

# 2. 将十六进制字符串转换为字节
try:
    binary_data = bytes.fromhex(hex_string)
    
    # 3. 尝试多种编码方式解码
    encodings = ['utf-8', 'gbk', 'latin-1']
    decoded_text = ""
    
    for encoding in encodings:
        try:
            decoded_text = binary_data.decode(encoding)
            print(f"使用 {encoding} 编码成功解码\n")
            break
        except UnicodeDecodeError:
            continue
    
    # 4. 显示解码结果
    print("翻译结果:\n")
    print(decoded_text)
    
    # 5. 保存结果到文件
    with open("decoded_result.txt", "w", encoding="utf-8") as f:
        f.write(decoded_text)
    print("\n翻译结果已保存到 decoded_result.txt")
    
except Exception as e:
    print(f"解码过程中出现错误: {e}")
    import traceback
    traceback.print_exc()